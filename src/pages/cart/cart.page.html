<div id="cart"
    class="h-full pt-4 flex flex-col space-y-4 bg-gray-200 md:px-6 md:pb-6 md:flex-row md:space-y-0 md:space-x-4 md:min-h-70vh lg:px-40 xl:px-64">
    <div class="md:w-2/3">
        <section id="header" data-aos="fade-up" data-aos-delay="50" data-aos-easing="ease-in-out"
            class="p-4 mb-2 bg-white h-full md:h-auto">
            <div class="flex w-full items-end justify-between">
                <router-link to="/store/main" class="flex items-center cursor-pointer">
                    <icon icon="ic:baseline-arrow-back" class="text-dark-grey" />
                    <p class="hover:underline cursor-pointer ml-2"> Go back to store </p>
                </router-link>
                <h3>YOUR CART</h3>
            </div>
        </section>
        <section class="px-4 mb-2 flex"  data-aos="fade-up" data-aos-delay="50" data-aos-easing="ease-in-out">
            <p @click="emptyCart()" v-if="cartItems.length > 0" class="ml-auto cursor-pointer font-bold">Empty Cart</p>
        </section>
        <section id="cartItems" class="p-4 flex flex-col space-y-6 bg-white h-full md:h-auto" data-aos="fade-up"
            data-aos-delay="150" data-aos-easing="ease-in-out">
            <div v-for="cartItem in cartItems" :key="cartItem.product.id + cartItem.size">
                <div class="flex w-full space-x-6">
                    <div class="w-1/3 h-40 relative">
                        <div class="absolute right-2 top-2 text-xs px-2 py-2 bg-dark-grey text-white md:px-3"
                            v-if="cartItem.product.discountPercentage > 0">
                            {{cartItem.product.discountPercentage}}% OFF
                        </div>
                        <img :src="cartItem.product.photo" alt="">
                    </div>
                    <div class="flex flex-col w-2/3 space-y-3">
                        <p class="md:text-lg">{{cartItem.product.name}}
                            <span class="uppercase ml-2 font-inter font-bold md:hidden">{{cartItem.size}}</span>
                        </p>

                        <p class="flex">Size: <span
                                class="uppercase font-inter ml-2 font-bold hidden md:block">{{cartItem.size}}</span>
                        </p>

                        <div class="flex items-center space-x-2">
                            <div class="flex items-center w-1/2 justify-between">
                                <div @click="updateProductQuantity('-', cartItem)"
                                    :class="{'border-gray-400': cartItem.quantity == 1, 'border-gray-700': cartItem.quantity > 1}"
                                    class="p-2 w-8 h-8 flex items-center justify-center uppercase border border-solid md:cursor-pointer">
                                    <icon icon="ant-design:minus-outlined"
                                        :class="{'text-gray-400': cartItem.quantity == 1}" width="17" height="17" />
                                </div>
                                <p class="font-inter text-lg select-none"> {{cartItem.quantity}} </p>
                                <div @click="updateProductQuantity('+', cartItem)"
                                    :class="{'border-gray-400': cartItem.quantity == cartItem.product.quantityAvailable[cartItem.size], 'border-gray-700': cartItem.quantity < cartItem.product.quantityAvailable[cartItem.size]}"
                                    class="p-2 w-8 h-8 flex items-center justify-center uppercase border border-solid md:cursor-pointer">
                                    <icon icon="ant-design:plus-outlined"
                                        :class="{'text-gray-400': cartItem.quantity == cartItem.product.quantityAvailable[cartItem.size]}"
                                        width="17" height="17" />
                                </div>
                            </div>
                            <p v-if="cartItem.quantity == cartItem.product.quantityAvailable[cartItem.size]"
                                class="text-red-500 w-1/2 font-inter text-sm">Max reached</p>
                        </div>
                        <div class="flex flex-col-reverse flex-wrap">
                            <money class="font-inter font-bold text-2xl bg-none w-2/3" disabled
                                :value="cartItem.price" />
                            <money class="font-inter line-through text-gray-400 text-xs bg-none w-1/3" disabled
                                :value="cartItem.product.price" />
                        </div>
                        <div @click="removeFromCart(cartItem)" class="flex items-center text-red-600 cursor-pointer">
                            <icon icon="ant-design:delete-outlined" width="18" />
                            <p class="text-xs">Remove from cart</p>
                        </div>
                    </div>
                </div>
                <hr class="w-3/4 mx-auto bg-gray-400 mt-3">
            </div>
            <div class="h-80vh" v-if="cartItems.length < 1">
                <div class="h-60vh p-8 flex flex-col justify-center text-center text-dark-grey items-center space-y-4">
                    <icon icon="mdi:bag-personal-off-outline" height="96" width="96" class="text-cyan" />
                    <h3>Your cart is empty</h3>
                    <router-link to="/store/main">
                        <button
                            class="px-4 py-3 mt-4 select-none cursor-pointer text-center text-white bg-dark-grey font-inter font-bold text-lg md:px-2 md:text-sm">
                            GO SHOPPING
                        </button>
                    </router-link>
                </div>
            </div>
        </section>
    </div>
    <section v-if="cartItems.length > 0"
        class="p-4 mb-4 flex-col flex items-center bg-white h-full md:w-1/3" data-aos="fade-up" data-aos-delay="250"
        data-aos-easing="ease-in-out" id="total">
        <h2 class="hidden md:block self-start">TOTAL</h2>
        <div class="flex w-full items-center space-x-4 justify-between md:justify-end">
            <h3 class="ml-auto md:text-lg md:hidden">TOTAL</h3>
            <money class="font-inter font-bold text-right text-3xl bg-none w-2/3 md:text-xl md:mt-4 lg:text-2xl"
                disabled :value="total" />
        </div>
        <router-link to="/checkout">
            <button
                class="px-4 py-3 mt-4 select-none cursor-pointer text-center text-white bg-dark-grey font-inter font-bold text-lg md:px-2 md:text-sm">
                PROCEED TO CHECKOUT
            </button>
        </router-link>
    </section>
</div>